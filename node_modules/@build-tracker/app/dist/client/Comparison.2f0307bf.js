(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(41),l=a(0),o=a.n(l),i=a(21),c=a(23),s=function(){return(s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u=function(e){return Object(c.a)("svg",s({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),o.a.createElement("g",null,o.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))};u.metadata={height:24,width:24};var f=u,m=a(13),b=a(8),d=a(94),y=a(3),h=function(){return(h=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},v=function(e){return Object(c.a)("table",h({},e,{accessibilityRole:"table",style:[O.table,e.style]}))},E=function(e){return Object(c.a)("thead",h({},e,{accessibilityRole:"group",style:[O.group,e.style]}))},p=function(e){return Object(c.a)("tbody",h({},e,{accessibilityRole:"group",style:[O.group,e.style]}))},g=function(e){return Object(c.a)("tr",h({},e,{accessibilityRole:"row",style:[O.row,e.style]}))},C=function(e){return Object(c.a)("th",h({},e,{accessibilityRole:"cell",style:[O.cell,e.style]}))},w=function(e){return Object(c.a)("td",h({},e,{accessibilityRole:"cell",style:[O.cell,e.style]}))},O=y.a.create({table:{borderCollapse:"collapse"},group:{boxSizing:"border-box"},row:{boxSizing:"border-box"},cell:{boxSizing:"border-box",borderWidth:y.a.hairlineWidth,borderBottomStyle:"solid",borderRightStyle:"dotted",borderColor:n.b.Gray10,margin:0,paddingHorizontal:n.f.Xsmall,textAlign:"right"}}),x=a(7),k=y.a.create({root:{padding:n.f.Normal,paddingBottom:n.f.Large},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},headerText:{fontWeight:n.d.Bold,fontSize:n.c.Medium},infoCell:{textAlign:"left"}}),j=function(e){var t=e.focusedRevision,a=e.style,n=o.a.useCallback(function(e){return{build:e.comparator.builds.find(function(e){return e.getMetaValue("revision")===t})}},[t]),l=Object(x.c)(n).build,i=l.getMetaValue("revision"),c=Object(x.b)(),s=o.a.useCallback(function(){c(Object(m.k)(void 0))},[c]);return o.a.createElement(b.a,{style:[k.root,a]},o.a.createElement(b.a,{style:k.header},o.a.createElement(d.a,{style:k.headerText},"Revision details"),o.a.createElement(r.a,{icon:f,iconOnly:!0,onPress:s,title:"Close"})),o.a.createElement(v,null,o.a.createElement(p,null,o.a.createElement(g,null,o.a.createElement(C,null,o.a.createElement(d.a,null,"Revision")),o.a.createElement(w,{style:k.infoCell},o.a.createElement(d.a,null,i))),o.a.createElement(g,null,o.a.createElement(C,null,o.a.createElement(d.a,null,"Date")),o.a.createElement(w,{style:k.infoCell},o.a.createElement(d.a,null,l.timestamp.toLocaleString()))),Object.keys(l.meta).filter(function(e){return"revision"!==e&&"timestamp"!==e}).map(function(e){var t=l.getMetaValue(e);return o.a.createElement(g,{key:e},o.a.createElement(C,null,o.a.createElement(d.a,null,function(e){return""+e.charAt(0).toUpperCase()+e.slice(1)}(e))),o.a.createElement(w,{style:k.infoCell},o.a.createElement(d.a,null,t)))}))))},A=a(31),R=a(25),z=a(4),S=a(95),T=a(135),D=y.a.create({artifact:{flexDirection:"row",justifyContent:"space-between",paddingVertical:n.f.Xxsmall},name:{flexShrink:1,flexGrow:1,alignItems:"flex-start",justifyContent:"center",paddingEnd:n.f.Xsmall},switch:{paddingStart:n.f.Xsmall},hoveredText:{color:n.b.Primary30}}),M=o.a.memo(function(e){var t=e.cell.text,a=e.color,n=e.disabled,r=e.isActive,l=e.onDisable,i=e.onEnable,c=e.onFocus,s=e.style,u=Object(z.d)(a);u.s=.2,u.l=.8;var f=o.a.useCallback(function(){c(t)},[c,t]);return o.a.createElement(C,{style:s},o.a.createElement(b.a,{style:D.artifact},o.a.createElement(R.a,null,function(e){return o.a.createElement(S.a,{accessibilityRole:"button",onPress:f,style:D.name},o.a.createElement(d.a,{style:[e&&D.hoveredText]},t))}),o.a.createElement(b.a,{style:D.switch},o.a.createElement(T.a,{activeThumbColor:a,activeTrackColor:u.toString(),disabled:n,onValueChange:function(e){e?i(t):l(t)},value:r}))))}),P=a(97),F=function(){return(F=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},I=function(e){return Object(c.a)("svg",F({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),o.a.createElement("g",null,o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"})))};I.metadata={height:24,width:24};var L=I,H=a(17),V=a.n(H),B=a(63),K=y.a.create({root:{maxWidth:400,position:"absolute",backgroundColor:n.b.Gray50,borderRadius:n.a.Normal,paddingHorizontal:n.f.Small,paddingVertical:n.f.Xsmall,transitionProperty:"transform, opacity",transitionDuration:"0.1s",transitionTimingFunction:n.e.Accelerate,transform:[{scale:.75}],opacity:0},show:{transform:[{scale:1}],opacity:1},text:{color:n.g.Gray50,fontSize:n.c.Xsmall,textAlign:"center"}}),N=function(e){var t=e.relativeTo,a=e.text,n=o.a.useState({top:-999,left:0}),r=n[0],l=n[1],i=document.getElementById("tooltipPortal"),c=o.a.createRef();o.a.useEffect(function(){var e=!0;if(t.current){var a=B.a.get("window"),n=a.width,r=a.height;c.current.measure(function(a,o,i,c){e&&t.current.measureInWindow(function(t,a,o,s){if(e){var u=a+s+6,f=t+o/2-i/2;f+i>n?(f=t-i-6,u=a+s/2-c/2):f<0?(f=t+o+6,u=a+s/2-c/2):u+c>r&&(u=a-c-6),l({left:f,top:u})}})})}return function(){e=!1}},[c,t]);var s=o.a.createElement(b.a,{accessibilityRole:"tooltip",ref:c,style:[K.root,{top:r.top,left:r.left},r.top>0&&K.show]},o.a.createElement(d.a,{style:K.text},a));return i?V.a.createPortal(s,i):s},W=function(){return(W=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},G=function(e){return Object(c.a)("svg",W({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),o.a.createElement("g",null,o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"})))};G.metadata={height:24,width:24};var X=G,J=a(26),U={red:6,green:176,blue:41},Y={red:249,green:84,blue:84},_={red:237,green:170,blue:46},q=function(e,t){var a=e.red,n=e.blue;return"rgba("+a+","+e.green+","+n+","+Math.max(Math.min(Math.abs(t),1),0)+")"},Q=y.a.create({textWrapper:{flexDirection:"row",justifyContent:"flex-end"}}),Z=o.a.memo(function(e){var t=e.cell,a=e.sizeKey,n=e.style,r=t.sizes[a],l=t.percents[a],i=o.a.useRef(null),c=o.a.useState(!1),s=c[0],u=c[1],f=o.a.useCallback(function(){u(!0)},[]),m=o.a.useCallback(function(){u(!1)},[]),y=t.failingBudgets,h=y.filter(function(e){return e.level===P.BudgetLevel.ERROR}),v=y.filter(function(e){return e.level===P.BudgetLevel.WARN}),E="transparent";h.length?E=q(Y,1):v.length?E=q(_,1):l>0?E=q(Y,l):0===r&&t.hashChanged?E=q(_,.5):0!==r&&(E=q(U,l));var p=r+" bytes ("+(100*l).toFixed(3)+"%)",g=t.hashChanged&&0===r?"Unexpected hash change! "+p:p,C=0===r?t.hashChanged?o.a.createElement(X,null):"":Object(J.formatBytes)(r),O=y.length?y.map(function(e){return Object(J.formatBudgetResult)(e,t.name)}).join(", "):0===r&&t.hashChanged?'The hash for "'+t.name+'" unexpectedly changed':'"'+t.name+'" changed by '+p;return o.a.createElement(w,{accessibilityLabel:g,style:[n,{backgroundColor:E}]},C?o.a.createElement(b.a,{onMouseEnter:f,onMouseLeave:m,ref:i,style:Q.textWrapper,testID:"delta"},o.a.createElement(d.a,null,h.length?o.a.createElement(L,null):v.length?o.a.createElement(X,null):null,y.length?" ":null),o.a.createElement(d.a,null,C)):null,s?o.a.createElement(N,{relativeTo:i,text:O}):null)}),$=o.a.memo(function(e){var t=e.cell,a=e.sizeKey,n=e.style,r=t.sizes[a],l=0===r?"":Object(J.formatBytes)(r);return o.a.createElement(w,{style:n},l?o.a.createElement(d.a,null,l):null)}),ee=a(40),te=y.a.create({row:{transitionProperty:"background-color",transitionDuration:"0.1s"}}),ae=o.a.memo(function(e){var t=e.colorScale,a=e.isActive,n=e.isHovered,r=e.onDisableArtifact,l=e.onEnableArtifact,i=e.onFocusArtifact,c=e.onHoverArtifact,s=e.row,u=e.rowIndex,f=e.sizeKey,m="transparent",b=s[0].text;if(n){var d=Object(z.d)(t(u));d.l=.9,m=d.toString()}var y=o.a.useCallback(function(){c(a?b:null)},[b,a,c]),h=s.map(function(e,n){switch(e.type){case ee.a.ARTIFACT:return o.a.createElement(M,{cell:e,color:t(u),key:n,isActive:a,onDisable:r,onEnable:l,onFocus:i});case ee.a.DELTA:return o.a.createElement(Z,{cell:e,key:n,sizeKey:f});case ee.a.TOTAL:return o.a.createElement($,{cell:e,key:n,sizeKey:f})}});return o.a.createElement(g,{onMouseEnter:y,style:[te.row,{backgroundColor:m}]},h)}),ne=function(){return(ne=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},re=function(e){return Object(c.a)("svg",ne({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),o.a.createElement("g",null,o.a.createElement("path",{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}),o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"})))};re.metadata={height:24,width:24};var le=re,oe=y.a.create({artifact:{flexDirection:"row",justifyContent:"space-between",paddingVertical:n.f.Xxsmall},name:{flexShrink:1,flexGrow:1,alignItems:"flex-start",justifyContent:"center",paddingEnd:n.f.Xsmall},folder:{color:n.b.Gray40},switch:{paddingStart:n.f.Xsmall},hoveredText:{color:n.b.Primary30}}),ie=o.a.memo(function(e){var t=e.cell,a=t.artifactNames,r=t.text,l=e.disabled,i=e.isActive,c=e.onDisable,s=e.onEnable,u=e.onFocus,f=e.style,m=o.a.useRef(null),y=o.a.useState(!1),h=y[0],v=y[1],E=o.a.useCallback(function(e){e?s(a):c(a)},[a,c,s]),p=o.a.useCallback(function(){v(function(e){return!e})},[]),g=o.a.useCallback(function(){u(a)},[a,u]);return o.a.createElement(C,{style:f},o.a.createElement(b.a,{style:oe.artifact},o.a.createElement(R.a,null,function(e){return o.a.createElement(S.a,{accessibilityRole:"button",onPress:g,style:oe.name},o.a.createElement(b.a,{ref:m},o.a.createElement(d.a,{style:e&&oe.hoveredText},o.a.createElement(le,{onMouseEnter:p,onMouseLeave:p,style:[oe.folder,e&&oe.hoveredText],testID:"groupicon"})," ",r)))}),h?o.a.createElement(N,{relativeTo:m,text:""+a.join(", ")}):null,o.a.createElement(b.a,{style:oe.switch},o.a.createElement(T.a,{activeThumbColor:n.b.Primary30,activeTrackColor:n.b.Primary00,disabled:l,onValueChange:E,value:i}))))}),ce=y.a.create({row:{backgroundColor:n.b.Gray05,transitionProperty:"background-color",transitionDuration:"0.1s"},cell:{borderColor:n.b.Gray20}}),se=o.a.memo(function(e){var t=e.isActive,a=e.onDisable,n=e.onEnable,r=e.onFocus,l=e.onHover,i=e.row,c=e.sizeKey,s=i[0].artifactNames,u=o.a.useCallback(function(){l(t?s:[])},[s,t,l]),f=i.map(function(e,l){switch(e.type){case ee.a.GROUP:return o.a.createElement(ie,{cell:e,key:l,isActive:t,onDisable:a,onEnable:n,onFocus:r,style:ce.cell});case ee.a.TOTAL:return o.a.createElement($,{cell:e,key:l,sizeKey:c,style:ce.cell});case ee.a.TOTAL_DELTA:return o.a.createElement(Z,{cell:e,key:l,sizeKey:c,style:ce.cell})}});return o.a.createElement(g,{onMouseEnter:u,style:[ce.row]},f)}),ue=function(){return(ue=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},fe=function(e){return Object(c.a)("svg",ue({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),o.a.createElement("g",null,o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})))};fe.metadata={height:24,width:24};var me=fe,be=a(69),de=a(51),ye=function(){return(ye=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},he=function(e){return Object(c.a)("svg",ye({},e,{style:[i.a.root,e.style],viewBox:"0 0 24 24"}),o.a.createElement("g",null,o.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),o.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"})))};he.metadata={height:24,width:24};var ve=he,Ee=y.a.create({hovered:{backgroundColor:n.b.Primary00},content:{justifyContent:"center",width:"100%",height:"100%"},revision:{fontWeight:"bold"}}),pe=o.a.memo(function(e){var t=e.cell,a=e.onFocus,n=e.onRemove,r=e.style,l=o.a.useRef(null),i=o.a.useState(!1),c=i[0],s=i[1],u=o.a.useCallback(function(){s(function(e){return!e})},[]),f=o.a.useCallback(function(){n(t.revision),u()},[t.revision,u,n]),m=o.a.useCallback(function(){a(t.revision),u()},[t.revision,u,a]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(R.a,null,function(e){return o.a.createElement(C,{style:[r,e&&Ee.hovered]},o.a.createElement(S.a,{accessibilityRole:"button",onPress:u,ref:l,style:Ee.content},o.a.createElement(d.a,{style:Ee.revision},Object(J.formatSha)(t.revision))))}),c?o.a.createElement(be.a,{onDismiss:u,relativeTo:l},o.a.createElement(de.a,{icon:me,label:"More info",onPress:m}),o.a.createElement(de.a,{icon:ve,label:"Remove",onPress:f})):null)}),ge=y.a.create({delta:{fontWeight:"bold"}}),Ce=o.a.memo(function(e){var t=e.cell,a=t.againstRevision,n=t.deltaIndex,r=t.revision,l=o.a.useRef(null),i=o.a.useState(!1),c=i[0],s=i[1],u=o.a.useCallback(function(){s(!0)},[]),f=o.a.useCallback(function(){s(!1)},[]);return o.a.createElement(C,{accessibilityLabel:"Delta from "+a+" to "+r,style:e.style},o.a.createElement(b.a,{onMouseEnter:u,onMouseLeave:f,ref:l,testID:"delta"},o.a.createElement(d.a,{style:ge.delta},"𝚫"+n)),c?o.a.createElement(N,{relativeTo:l,text:"Delta from "+Object(J.formatSha)(a)+" to "+Object(J.formatSha)(r)}):null)}),we=o.a.memo(function(e){var t=e.header?C:w;return o.a.createElement(t,{style:e.style},o.a.createElement(d.a,null,e.cell.text))}),Oe=y.a.create({headerCell:{backgroundColor:"white",position:"sticky",top:0,zIndex:4,height:"calc(4rem - 1px)"}}),xe=o.a.memo(function(e){var t=e.onFocusRevision,a=e.onRemoveRevision,n=e.row;return o.a.createElement(g,{style:Oe.headerRow},n.map(function(e,n){switch(e.type){case ee.a.TEXT:return o.a.createElement(we,{cell:e,header:!0,key:e.text,style:Oe.headerCell});case ee.a.REVISION:return o.a.createElement(pe,{cell:e,key:e.revision,onFocus:t,onRemove:a,style:Oe.headerCell});case ee.a.REVISION_DELTA:return o.a.createElement(Ce,{cell:e,key:e.revision+"-"+e.againstRevision+"-"+n,style:Oe.headerCell})}}))}),ke=[],je=y.a.create({table:{position:"relative"}}),Ae=function(e){var t=e.activeArtifacts,a=e.colorScale,n=e.comparator,r=e.disabledArtifactsVisible,l=e.hoveredArtifacts,i=e.onDisableArtifacts,c=e.onEnableArtifacts,s=e.onFocusArtifacts,u=e.onFocusRevision,f=e.onHoverArtifacts,m=e.onRemoveRevision,b=e.sizeKey,d=n.toJSON(),y=o.a.useCallback(function(){f([])},[f]),h=o.a.useCallback(function(e){f(e?[e]:ke)},[f]),g=o.a.useCallback(function(e){i([e])},[i]),C=o.a.useCallback(function(e){c([e])},[c]),w=o.a.useCallback(function(e){s([e])},[s]);return o.a.createElement(v,{onMouseLeave:y,style:je.table},o.a.createElement(E,null,o.a.createElement(xe,{onFocusRevision:u,onRemoveRevision:m,row:d.header}),d.groups.map(function(e){var a=e[0],n=a.artifactNames,r=a.text,l=Object.keys(t).filter(function(e){return n.includes(e)}).every(function(e){return t[e]});return o.a.createElement(se,{isActive:l,key:r,onDisable:i,onEnable:c,onFocus:s,onHover:f,row:e,sizeKey:b})})),o.a.createElement(p,null,d.artifacts.map(function(e,n){var i=e[0].text,c=t[i];return c||r?o.a.createElement(ae,{colorScale:a,isActive:c,isHovered:l.includes(i),key:i,onDisableArtifact:g,onEnableArtifact:C,onFocusArtifact:w,onHoverArtifact:h,row:e,rowIndex:n,sizeKey:b}):null})))},Re=a(138),ze=function(e){return{activeArtifacts:e.activeArtifacts,colorScaleName:e.colorScale,comparator:e.activeComparator,disabledArtifactsVisible:e.disabledArtifactsVisible,focusedRevision:e.focusedRevision,hoveredArtifacts:e.hoveredArtifacts,sizeKey:e.sizeKey}},Se=y.a.create({tableScroll:{width:"100%",transitionProperty:"height",transitionDuration:"0.1s"},buildInfo:{width:"100%",borderTopColor:n.b.Gray10,borderTopWidth:y.a.hairlineWidth,animationDuration:"0.1s",animationKeyframes:[{"0%":{transform:[{translateY:"100%"}]},"100%":{transform:[{translateY:"0%"}]}}],animationTimingFunction:"ease-out",animationIterationCount:1}});t.default=function(e){var t=e.style,a=Object(x.c)(ze),n=a.activeArtifacts,r=a.colorScaleName,l=a.comparator,i=a.disabledArtifactsVisible,c=a.focusedRevision,s=a.hoveredArtifacts,u=a.sizeKey,f=Object(x.b)(),d=o.a.useMemo(function(){return A.a[r].domain([0,l.artifactNames.length])},[r,l.artifactNames.length]),y=o.a.useCallback(function(e){f(Object(m.f)(e,!1))},[f]),h=o.a.useCallback(function(e){f(Object(m.f)(e,!0))},[f]),v=o.a.useCallback(function(e){f(Object(m.f)(e,!0)),f(Object(m.f)(Object.keys(n).filter(function(t){return!e.includes(t)}),!1))},[n,f]),E=o.a.useCallback(function(e){f(Object(m.k)(e))},[f]),p=o.a.useCallback(function(e){f(Object(m.d)(e))},[f]),g=o.a.useCallback(function(e){f(Object(m.l)(e))},[f]);return o.a.createElement(b.a,{style:t},o.a.createElement(Re.a,{horizontal:!0,style:Se.tableScroll},o.a.createElement(Re.a,null,o.a.createElement(Ae,{activeArtifacts:n,colorScale:d,comparator:l,disabledArtifactsVisible:i,hoveredArtifacts:s,onDisableArtifacts:y,onEnableArtifacts:h,onFocusArtifacts:v,onFocusRevision:E,onHoverArtifacts:g,onRemoveRevision:p,sizeKey:u}))),c?o.a.createElement(o.a.Suspense,{fallback:null},o.a.createElement(b.a,{style:Se.buildInfo,testID:"buildinfo"},o.a.createElement(j,{focusedRevision:c}))):null)}}}]);
//# sourceMappingURL=Comparison.2f0307bf.js.map